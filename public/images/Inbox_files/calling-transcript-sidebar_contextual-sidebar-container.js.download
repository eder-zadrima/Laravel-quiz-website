(window.webpackJsonp=window.webpackJsonp||[]).push([["calling-transcript-sidebar~contextual-sidebar-container"],{"2I7S":function(e,t,n){"use strict";var o=n("fzi9"),s=n("fFSu"),i=n("QgEn"),a=n("mDbF"),r=n.n(a),l=n("VfuR"),d=n.n(l),c=n("Ktcs"),h=n("MyYj"),p=n("vuW9"),u=n("8dyM"),m=n("FN/f"),f=n("z+A9"),g=n("V7ig"),v=n("DqRu"),b=function(e){var t=e.buttonRef,n=e.children,a=e.hint,l=e.hintSuccess,d=e.onClick,h=e.tooltipClassName,m=e.tooltipPlacement,f=e.value,g=e.valueWhenCopied,b=Object(s.a)(e,["buttonRef","children","hint","hintSuccess","onClick","tooltipClassName","tooltipPlacement","value","valueWhenCopied"]),I=Object(c.useState)(!1),j=Object(o.a)(I,2),y=j[0],O=j[1],C=function(e){e.target.value&&y&&O(!1)},P=function(e){var n=document.createElement("textarea"),o=t.current.parentElement;o.appendChild(n);n.value=g(f);n.select();n.setSelectionRange(0,999999);try{document.execCommand("copy");O(!0)}catch(e){}o.removeChild(n);t.current.focus();d&&d(e)},F=y?Object(u.a)(l):Object(u.a)(a),w=n||Object(i.jsx)("span",{className:"private-button--internal-spacing",children:r.a.text("salesUI.UICopyInput.label")});return Object(i.jsx)(p.a,{className:h,disabled:!F,onOpenChange:C,placement:m,title:F,children:Object(i.jsx)(v.a,Object.assign({},b,{buttonRef:t,onClick:P,children:w}))})};b.propTypes=Object.assign({},Object(g.a)(v.a),{buttonRef:f.a.isRequired,children:d.a.node,hint:Object(m.a)(d.a.node).isRequired,hintSuccess:Object(m.a)(d.a.node).isRequired,onClick:d.a.func,tooltipClassName:d.a.string,tooltipPlacement:p.a.propTypes.placement,value:d.a.any,valueWhenCopied:d.a.func});b.defaultProps={hint:function(){return r.a.text("salesUI.UICopyInput.title")},hintSuccess:function(){return r.a.text("salesUI.UICopyInput.tooltipCopied")},tooltipPlacement:"top",use:"tertiary-light",valueWhenCopied:function(e){return e}};b.displayName="UICopyButton";t.a=Object(h.a)(b)},EK0Z:function(e,t,n){"use strict";var o=n("fFSu"),s=n("vTCD"),i=n("mNyx"),a=n("txVw"),r=n("UMxk"),l=n("k8Et"),d=n("pGTB"),c=n("Ktcs"),h=n("QgEn"),p=n("r1tY"),u=n("VfuR"),m=n.n(u),f=n("t6nY"),g=n.n(f),v=n("9f1P"),b=n.n(v),I=n("WLqE"),j=n("DqRu"),y=n("Sshb"),O=n("BiPx"),C=n("Ryvg"),P=n("GBWN"),F=n("5qWo"),w=n("iJaT"),k=n("iVgY"),M=n("fPxq"),x=n("pw7o"),R=n("SV9y"),E=n("Fsj+"),S=n("VQTc"),U=n("Cftt"),q=n("hruh"),B=n("3Q2O"),N="default",L="fullscreen",T="sidebar",W="panel",A="ifr-private-preload-root",D=4e3/100,H={height:"",width:"",top:"",left:"",position:"static","z-index":""},V={position:"absolute","z-index":1112},z={height:"100vh",width:"100%"},Y=b()("div").withConfig({displayName:"UIModalIFrame__ContainerPositionRelative",componentId:"mwil4l-0"})(["position:relative;width:100%;"]),Q=function(e){return e+"px"},J=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}},K=function(){var e=document.getElementById(A);if(!e){(e=document.createElement("div")).id=A;document.body.appendChild(e)}return e},G=function(){var e=document.createElement("div");K().appendChild(e);return e},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var o=J(t),s=Object.assign({},V,{top:Q(o.top),left:Q(o.left),"max-width":Q(t.offsetWidth)});Object.assign(e.style,Object.assign({},s,{},n))}},X=function(e){Object.assign(e.style,H)},Z=function(e){Object(d.a)(t,e);Object(l.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.preloadedIFrame;e.preload&&!n&&(n={placeholderRef:Object(c.createRef)(),el:G()});return{actionHandlers:e.actionButtons.reduce(function(e,n){e[n.name]=function(e){e.stopPropagation();t.handleAction(n.name)};return e},{}),preloadedIFrame:n}}}]);function t(){var e;Object(s.a)(this,t);(e=Object(i.a)(this,Object(a.a)(t).call(this))).handleAction=e.handleAction.bind(Object(r.a)(e));e.handleCloseModal=e.handleCloseModal.bind(Object(r.a)(e));e.handleEsc=e.handleEsc.bind(Object(r.a)(e));e.handleOnCloseComplete=e.handleOnCloseComplete.bind(Object(r.a)(e));e.handleOnMessage=e.handleOnMessage.bind(Object(r.a)(e));e.handleOnOpenComplete=e.handleOnOpenComplete.bind(Object(r.a)(e));e.handleOnReady=e.handleOnReady.bind(Object(r.a)(e));e.positionIFrameInModal=e.positionIFrameInModal.bind(Object(r.a)(e));e.hostContext=null;e.adjustPosition={interval:null,count:0};e.state={actionHandlers:null,handleAction:e.handleAction,open:!1,preloadedIFrame:null,ready:!1};return e}Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(e.preload&&!this.props.preload){this.resetIFramePosition();this.setState({ready:!1})}if(this.props.preload){this.props.show&&!t.ready&&this.state.ready&&this.positionIFrameInModal();!this.state.ready||e.height===this.props.height&&e.width===this.props.width||this.positionIFrameInModal()}}},{key:"componentWillUnmount",value:function(){if(this.props.preload){this.resetIFramePosition();this.state.preloadedIFrame.el.parentElement.removeChild(this.state.preloadedIFrame.el)}}},{key:"isUseFullscreen",value:function(){return this.props.use===L}},{key:"isUseSidebar",value:function(){return this.props.use===T}},{key:"isUsePanel",value:function(){return this.props.use===W}},{key:"isFullModalEmbed",value:function(){return!this.hasFooter()}},{key:"hasHeader",value:function(){return this.props.title}},{key:"hasFooter",value:function(){return this.props.actionButtons.length}},{key:"getIframePositioningStyles",value:function(){return this.isFullModalEmbed()?z:void 0}},{key:"positionIFrameInModal",value:function(){_(this.state.preloadedIFrame.el,this.state.preloadedIFrame.placeholderRef.current,this.getIframePositioningStyles())}},{key:"stopAdjustingIFramePositioning",value:function(){clearInterval(this.adjustPosition.interval);this.adjustPosition.interval=null;this.adjustPosition.count=0}},{key:"adjustIFramePositioning",value:function(){var e=this;this.adjustPosition.interval||(this.adjustPosition.interval=setInterval(function(){if(e.adjustPosition.count>=D||!e.props.preload||!e.props.show)e.stopAdjustingIFramePositioning();else{e.adjustPosition.count++;e.positionIFrameInModal()}},100))}},{key:"resetIFramePosition",value:function(){window.removeEventListener("resize",this.positionIFrameInModal);this.isUsePanel()&&window.removeEventListener("scroll",this.positionIFrameInModal);this.stopAdjustingIFramePositioning();X(this.state.preloadedIFrame.el)}},{key:"performIFramePositioning",value:function(){if(this.props.preload&&this.props.show){this.positionIFrameInModal();this.adjustIFramePositioning();window.addEventListener("resize",this.positionIFrameInModal);this.isUsePanel()&&window.addEventListener("scroll",this.positionIFrameInModal)}}},{key:"handleOnReady",value:function(e,t){this.hostContext=e;this.props.onReady(e,t);this.setState({ready:!0});this.state.open&&this.performIFramePositioning()}},{key:"handleModalClosed",value:function(e){var t=this.props,n=t.onClose;t.preload||this.setState({ready:!1});n(e.payload)}},{key:"handleOnMessage",value:function(e){var t=this.props.onMessage;e.payload.type===q.a?this.handleModalClosed(e):t(e)}},{key:"handleOnCloseComplete",value:function(){this.props.preload&&this.resetIFramePosition();this.setState({open:!1})}},{key:"handleOnOpenComplete",value:function(){var e=this.props.onOpenComplete;e&&e();this.setState({open:!0});this.state.ready&&this.performIFramePositioning()}},{key:"handleCloseModal",value:function(e){e.stopPropagation();this.handleAction(q.a)}},{key:"handleAction",value:function(e){this.hostContext&&this.hostContext.sendMessage(e,{})}},{key:"handleEsc",value:function(e){var t=this.props.onEsc;t&&t();this.handleCloseModal(e)}},{key:"getHandlers",value:function(){var e=this.props,t=e.onEsc,n=e.title;return e.use===W?{}:n?{onEsc:t}:{onEsc:this.handleEsc}}},{key:"getModalComponent",value:function(){switch(this.props.use){case T:return k.a;case W:return x.a;default:return w.a}}},{key:"getModalComponentProps",value:function(){var e=this,t=this.getModalComponent();return Object.keys(t.propTypes).reduce(function(t,n){e.props.hasOwnProperty(n)&&(t[n]=e.props[n]);return t},{})}},{key:"getModalComponentWidth",value:function(){var e=parseInt(this.props.width,10);return isNaN(e)?this.props.width:this.isFullModalEmbed()?e:e+80}},{key:"getDialogBodyClassName",value:function(){var e=this.shouldRender(this.props.showProgressIndicator);return g()("embedded-dialog",this.isFullModalEmbed()&&(e?"in-full-loading":"in-full"),this.isUseSidebar()&&"sidebar",this.isUsePanel()&&"panel")}},{key:"getIFrameDimensions",value:function(){var e,t=!(this.hasHeader()||this.hasFooter());e=this.isUseFullscreen()?!this.state.open||!t&&!this.props.show:!this.props.show;var n=this.isUseFullscreen()?"100%":this.props.height,o=this.isUseFullscreen()?"100%":this.props.width;return{height:e?0:n,width:e?0:o}}},{key:"shouldRender",value:function(e){return!this.state.ready&&e}},{key:"renderIFrame",value:function(){var e=this.props,t=(e.actionButtons,e.loadingIndicatorProps,e.preload,e.progressIndicatorProps,e.showLoadingIndicator,e.showProgressIndicator,e.title,Object(o.a)(e,["actionButtons","loadingIndicatorProps","preload","progressIndicatorProps","showLoadingIndicator","showProgressIndicator","title"])),n=this.getIFrameDimensions();return Object(h.jsx)(B.a,Object.assign({},t,{height:n.height,onMessage:this.handleOnMessage,onReady:this.handleOnReady,width:n.width}))}},{key:"renderIFramePlaceholder",value:function(){var e=this.props,t=e.height,n=e.width;return Object(h.jsx)("div",{ref:this.state.preloadedIFrame.placeholderRef,style:{height:t+"px",width:n+"px"}})}},{key:"renderProgressIndicator",value:function(){return Object(h.jsx)(M.a,Object.assign({},this.props.progressIndicatorProps))}},{key:"renderLoadingIndicator",value:function(){return Object(h.jsx)(F.a,Object.assign({},this.props.loadingIndicatorProps,{contextual:!0}))}},{key:"renderHeader",value:function(){if(!this.hasHeader())return null;var e=this.props,t=e.title,n=e.use===W?S.a:P.a;return Object(h.jsxs)(n,{children:[Object(h.jsx)(O.a,{onClick:this.handleCloseModal}),Object(h.jsx)(I.a,{children:t})]})}},{key:"renderBody",value:function(){var e=this.props,t=(e.actionButtons,e.preload),n=e.showLoadingIndicator,o=e.showProgressIndicator,s=(e.title,e.use),i=this.getDialogBodyClassName(),a=this.shouldRender(o),r=this.shouldRender(n),l=s===W?R.a:y.a,d=Object(h.jsxs)(c.Fragment,{children:[a&&this.renderProgressIndicator(),Object(h.jsxs)(Y,{children:[r&&this.renderLoadingIndicator(),t&&this.renderIFramePlaceholder(),!t&&this.renderIFrame()]})]});return s===W?this.isFullModalEmbed()?Object(h.jsx)(l,{className:i,children:d}):Object(h.jsx)(l,{className:i,children:Object(h.jsx)(U.a,{className:"display-flex",children:d})}):Object(h.jsx)(l,{className:i,children:d})}},{key:"renderFooter",value:function(){var e=this;if(!this.hasFooter())return null;var t=this.props,n=t.actionButtons,o=t.use===W?E.a:C.a;return Object(h.jsx)(o,{children:n.map(function(t){var n=t.name,o=t.label,s=t.props,i=void 0===s?{}:s;return Object(c.createElement)(j.a,Object.assign({},i,{key:n,onClick:e.state.actionHandlers[n]}),o)})})}},{key:"renderPreloadedIFrame",value:function(){return Object(p.createPortal)(this.renderIFrame(),this.state.preloadedIFrame.el)}},{key:"renderModal",value:function(){var e=this.getModalComponent(),t=this.getHandlers(),n=this.getModalComponentWidth(),o=this.getModalComponentProps();return Object(h.jsxs)(e,Object.assign({},o,{},t,{onCloseComplete:this.handleOnCloseComplete,onOpenComplete:this.handleOnOpenComplete,width:n,children:[this.renderHeader(),this.renderBody(),this.renderFooter()]}))}},{key:"render",value:function(){var e=this.props,t=e.preload,n=e.show;return t?Object(h.jsxs)(c.Fragment,{children:[t&&this.renderPreloadedIFrame(),n&&this.renderModal()]}):n&&this.renderModal()}}]);return t}(c.Component);Z.propTypes=Object.assign({},w.a.propTypes,{},B.a.propTypes,{actionButtons:m.a.arrayOf(m.a.shape({name:m.a.string.isRequired,label:m.a.string.isRequired,props:m.a.object})).isRequired,loadingIndicatorProps:m.a.object.isRequired,onClose:m.a.func.isRequired,preload:m.a.bool.isRequired,progressIndicatorProps:m.a.object.isRequired,show:m.a.bool.isRequired,showLoadingIndicator:m.a.bool.isRequired,showProgressIndicator:m.a.bool.isRequired,title:m.a.string,use:m.a.oneOfType([w.a.propTypes.use,m.a.oneOf([T,W])]).isRequired});Z.defaultProps=Object.assign({},w.a.defaultProps,{},B.a.defaultProps,{actionButtons:[],loadingIndicatorProps:{},preload:!1,progressIndicatorProps:{value:5},show:!0,showLoadingIndicator:!1,showProgressIndicator:!1,use:N});t.a=Z}}]);
//# sourceMappingURL=calling-transcript-sidebar~contextual-sidebar-container.js.map