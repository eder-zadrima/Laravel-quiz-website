!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};e[a].call(r.exports,r,r.exports,n);r.l=!0;return r.exports}var a=[{name:"head-dlb/bundle.production.js",path:"head-dlb/static-1.133/bundle.production.js",ids:{}}];n.dlbpr=function(e,t){var r=a[e];if(!r.r){r.r=window["__webpack_require_"+r.name+"__"];if(!r.r)throw new Error("dlb "+r.name+" not loaded");r.r.linkDlb(n,r.ids)}return r.r(t)};n.m=e;n.c=t;n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})};n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};n.t=function(e,t){1&t&&(e=n(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);n.r(a);Object.defineProperty(a,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a};n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="//static.hsappstatic.net/FireAlarmUi/static-1.577/";n(n.s=30)}([,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function r(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e}},function(e,t,n){"use strict";var a=n(2),r=n(3),i=n(5),s=n(9),o=n(10),l=function(){function e(t,n,r){Object(a.a)(this,e);this.dom=t;this.storage=n;this.events=r}Object(r.a)(e,[{key:"getAlarms",value:function(e,t){var n=this.dom,a=this.storage,r=this.events,o=this.getHttpRequest();if(!o)throw"Could not create XMLHttpRequest. Browser may not support AJAX.";var l=this.getUrl(e),u=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status){try{var e=JSON.parse(o.responseText),l=[];Array.isArray(e)&&(l=e.map(function(e){return new i.a(e,n,a,r)}));t(l,null)}catch(e){t(null,new s.a(o,e))}return}t(null,new s.a(o))}};o.onreadystatechange=u;o.open("GET",l);var c=this.getCookie(window.document.cookie);if(null!==c){o.withCredentials=!0;o.setRequestHeader("X-HubSpot-CSRF-hubspotapi",c)}else c||console.log("No CSRF Cookie found.");o.send();return!0}},{key:"getHttpRequest",value:function(){return new XMLHttpRequest}},{key:"getCookie",value:function(e){var t,n,a=(";"+e).split(";"),r="csrf.app";if(a.length)for(t=0;t<a.length;t++)if(2===(n=a[t].split("=")).length&&n[0].trim()===r)return n[1];return null}},{key:"getUrl",value:function(e){var t=Object(o.isQa)()?"qa":"",n=window.I18n&&window.I18n.langEnabled?window.I18n.lang:"en",a=/^\/(?:[A-Za-z0-9-_]*)\/(\d+)(?:\/|$)/.exec(document.location.pathname),r=a&&a.length>1?"?portalId="+a[1]+"&lang="+n:"?lang="+n,i=Object(o.getHublet)(document.location.hostname);return"https://api"+("na1"===i?"":"-"+i)+".hubspot"+t+".com/firealarm/v2/alarm/"+e+r}}]);return e}();t.a=l},function(e,t,n){"use strict";var a=n(2),r=n(3),i=n(6),s=n(7),o=n(8),l="View status page",u=function(){function e(t,n,r,o,l){Object(a.a)(this,e);Object(i.b)(this,t);this.dom=n;this.storage=r;this.events=o;this.date=l||Date;this.severity=s.a.getByKey(t.severity);var u=this.id||this.uuid;this.alarmId="alarm."+u+".revision."+this.revisionNumber;this.className="Alarm";this.storageKey="firealarm.dismiss."+this.alarmId;this.analyticsKey="firealarm.analytics."+this.alarmId;this.domElement=null;this.alarmElementId="firealarm-"+(this.id||this.date.now());this.alarmDismissButtonId=this.alarmElementId+"-dismiss"}Object(r.a)(e,[{key:"dismiss",value:function(){this.storage.setItem(this.storageKey,"true");if(this.domElement){var e=this.domElement.parentNode;e.removeChild(this.domElement);e.hasChildNodes()||e.parentNode.removeChild(e)}this.events.runEvents(o.a.ON_DISMISS_ALARM,this)}},{key:"getDomElement",value:function(){var e=this;if(!this.domElement){var t=this.callToAction&&this.callToAction.ctaText||l;this.domElement=this.dom.createElementFromHtml('<div\n          id="'+this.alarmElementId+'"\n          class="fire-alarm_alarm fire-alarm_'+this.severity.key.toLowerCase()+'"\n          role="alert"\n          aria-live="assertive"\n          aria-atomic="true" >\n            <div class="fire-alarm_alarm-inner">\n              <div class="fire-alarm_alarm-body">\n                <h2>'+this.title+"</h2>\n                <p>"+this.message+"</p>\n              </div>\n            </div>\n        </div>");if(this.callToAction){var n=this.dom.createElementFromHtml('<a class="fire-alarm_alarm-status-page-link" href="'+this.callToAction.url+'" target="_blank">'+t+"</a>");this.domElement.appendChild(n)}var a=this.dom.createElementFromHtml("<button id="+this.alarmDismissButtonId+' type="button" data-action="close" class="fire-alarm_alarm-close-button">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="alarm-close-icon">\n            <path transform="translate(-1 -1)" d="M14.5,1.5l-13,13m0-13,13,13"></path>\n          </svg>\n          <span class="fire-alarm_alarm-button-text">Close</span>\n        </button>');this.domElement.appendChild(a);if(a){var r=function(t){t.preventDefault();e.dismiss()};a.addEventListener("touchend",r);a.addEventListener("click",r)}}return this.domElement}},{key:"isDismissed",value:function(){return"true"===this.storage.getItem(this.storageKey)}}]);return e}();t.a=u},function(e,t,n){"use strict";n.d(t,"b",function(){return a});n.d(t,"a",function(){return r});function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];n.forEach(function(t){var n=Object.keys(t).reduce(function(e,n){e[n]=Object.getOwnPropertyDescriptor(t,n);return e},{});Object.defineProperties(e,n)});return e}function r(){var e=arguments;if(0!==arguments.length){var t=a({},arguments.length<=0?void 0:arguments[0]);if(1===arguments.length)return t;for(var n=function(n){var a=n<0||e.length<=n?void 0:e[n],r=Object.keys(a).reduce(function(e,n){void 0===t[n]&&(e[n]=Object.getOwnPropertyDescriptor(a,n));return e},{});Object.defineProperties(t,r)},r=1;r<arguments.length;r++)n(r);return t}}},function(e,t,n){"use strict";var a=n(2),r=n(3),i=function(){function e(){var t=this;Object(a.a)(this,e);var n={CRITSIT:{id:0,priority:4},OUTAGE:{id:1,priority:3},MAINTENANCE:{id:2,priority:2},DEBUG:{id:3,priority:1}};this.idIndex={};Object.keys(n).forEach(function(e){var a=n[e];t[e]=a;a.key=e;t.idIndex[a.id]=a})}Object(r.a)(e,[{key:"getById",value:function(e){return this.idIndex[e]}},{key:"getByKey",value:function(e){return this[e]}}]);return e}();t.a=new i},function(e,t,n){"use strict";var a=n(2),r=n(3),i=function(){function e(){var t=this;Object(a.a)(this,e);this.eventGroups={ON_LOAD:"onLoad",ON_RECEIVE_ALARM:"onReceiveAlarm",ON_RENDER_ALARM:"onRenderAlarm",ON_RENDER_ALL:"onRenderAll",ON_DISMISS_ALARM:"onDismissAlarm",CREATE_ALARM:"createAlarm"};this.keys().forEach(function(e){var n=t.eventGroups[e];t[e]=n})}Object(r.a)(e,[{key:"keys",value:function(){return Object.keys(this.eventGroups)}},{key:"getByKey",value:function(e){return this[e]}}]);return e}();t.a=new i},function(e,t,n){"use strict";var a=n(2),r=n(3),i=function(){function e(t,n){Object(a.a)(this,e);this.httpRequest=t;this.exception=n||null}Object(r.a)(e,[{key:"getMessage",value:function(){return this.exception?this.exception.toString():this.httpRequest&&this.httpRequest.readyState===XMLHttpRequest.DONE?this.httpRequest.statusText:"httpRequest did not complete"}}]);return e}();t.a=i},function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"isQa",function(){return l});n.d(t,"getHublet",function(){return u});var a,r=n(12),i="qa.com",s=/^(?:local|app)-(.*).(?:hubspot)(?:qa)?.com/;try{var o=!(!window||!window.localStorage)&&window.localStorage;a=new r.a(o)}catch(e){a=new r.a(!1)}function l(){return"qa"===a.getItem("ENV")||document.domain.indexOf(i)>=0}function u(e){return s.test(e)?s.exec(e)[1]:"na1"}e&&e.exports&&(e.exports.default=Object.assign({},e.exports))}).call(this,n(11)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]);Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}});Object.defineProperty(t,"exports",{enumerable:!0});t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var a=n(2),r=n(3),i=function(){function e(t){Object(a.a)(this,e);if(!1===t)this.storageEnabled=!1;else{this.localStorage=t;this.storageEnabled=null}}Object(r.a)(e,[{key:"isStorageEnabled",value:function(){if(null!==this.storageEnabled)return this.storageEnabled;try{var e="firealarm-test",t=Date.now();this.localStorage.setItem(e,t);this.storageEnabled=this.localStorage.getItem(e)==t;this.localStorage.removeItem(e)}catch(e){this.storageEnabled=!1}return this.storageEnabled}},{key:"getItem",value:function(e){return this.isStorageEnabled()?this.localStorage.getItem(e):null}},{key:"removeItem",value:function(e){this.isStorageEnabled()&&this.localStorage.removeItem(e)}},{key:"setItem",value:function(e,t){this.isStorageEnabled()&&this.localStorage.setItem(e,t)}}]);return e}();t.a=i},function(e,t,n){"use strict";var a=n(2),r=n(3),i=n(6),s="fire-alarm_no-nav-margin-bottom",o=new(n(14).a)(document),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e);this.config=Object(i.a)(t,{after:null,additionalClasses:[],before:null,parent:null});this.alarmElements=[]}Object(r.a)(e,[{key:"addAlarm",value:function(e){if(!e.isDismissed()){var t=e.getDomElement();if(-1===this.alarmElements.indexOf(t)){this.alarmElements.push(t);this.getDomElement().appendChild(t)}}}},{key:"removeAllAlarms",value:function(){if(this.domElement){for(;this.domElement.firstChild;)this.domElement.removeChild(this.domElement.firstChild);this.alarmElements=[]}}},{key:"getDomElement",value:function(){if(null==this.domElement){var e=this.config.additionalClasses.join(" ");this.domElement=o.createElement("div",{class:"fire-alarm_alarms "+e})}return this.domElement}},{key:"addNoMarginClass",value:function(){if(!this.addedNoMarginClass){this.getDomElement().classList.add(s);this.addedNoMarginClass=!0}}},{key:"getParent",value:function(){var e=this.config,t=e.after,n=e.before;e.parent||(t?this.config.parent=t.parentNode:n&&(this.config.parent=n.parentNode));return this.config.parent}},{key:"render",value:function(){var e=this.config,t=e.after,n=e.before,a=this.getParent();if(a){var r=this.getDomElement();if(t){var i=window.getComputedStyle(t).marginBottom;parseInt(i,10)||this.addNoMarginClass();a.insertBefore(r,t.nextSibling)}else n?a.insertBefore(r,n):a.appendChild(r)}}}]);return e}();t.a=l},function(e,t,n){"use strict";var a=n(2),r=n(3),i=function(){function e(t){Object(a.a)(this,e);this.document=t||window.document}Object(r.a)(e,[{key:"createElement",value:function(e,t,n){var a=this.document.createElement(e);t&&this.setAttributes(a,t);if(n)if("string"==typeof n){var r=this.document.createTextNode(n);a.appendChild(r)}else n.forEach(function(e){a.appendChild(e)});return a}},{key:"createElementFromHtml",value:function(e){var t=this.document.createElement("template");t.insertAdjacentHTML("afterbegin",e);for(var n=t.firstChild;null!=n&&3==n.nodeType;)n=n.nextSibling;return n}},{key:"getBody",value:function(){return this.document.body}},{key:"getElementById",value:function(e){return this.document.getElementById(e)}},{key:"setAttributes",value:function(e,t){for(var n in t)e.setAttribute(n,t[n]);return e}}]);return e}();t.a=i},function(e,t,n){"use strict";var a=n(2),r=n(7),i=function e(t){Object(a.a)(this,e);var n=[],i=[];this.alarms=t;this.groupedAlarms=t.reduce(function(e,t){var a=t.severity.key;e[a]=e[a]||[];t.severity===r.a.CRITSIT?n.push(t):i.push(t);e[a].push(t);return e},{});this.placement={aboveNav:n,belowNav:i}};t.a=i},function(e,t,n){"use strict";var a=n(2),r=n(3),i=n(8),s="_preLoadEvents",o=function(){function e(){var t=this;Object(a.a)(this,e);this.events={};this.eventMarkers={};i.a.keys().forEach(function(e){var n=i.a[e];t.events[n]=[]})}Object(r.a)(e,[{key:"addEvent",value:function(e,t){this.events[e]=this.events[e]||[];this.events[e].push(t)}},{key:"addEventMarker",value:function(e,t){this.eventMarkers[e]=this.eventMarkers[e]||[];this.eventMarkers[e].push(t)}},{key:"extractPreloadEvents",value:function(e){var t=this,n=e&&e[s]?e[s]:{};i.a.keys().forEach(function(e){var a=i.a[e];n[a]&&Array.isArray(n[a])&&n[a].map(function(e){t.addEvent(a,e)})})}},{key:"runEvents",value:function(e,t){var n={eventGroup:e,data:t};if(this.events[e])switch(e){case i.a.eventGroups.CREATE_ALARM:this.events[e].map(function(e){t.addAlarm(e)});break;default:this.events[e].map(function(e){e(n)})}this.addEventMarker(e,n)}}]);return e}();t.a=o},function(e,t,n){"use strict";"use es6";var a={getCss:function(){var e="\n      .fire-alarm_alarms {\n        box-sizing: border-box;\n        color: rgb(255, 255, 255);\n        font-family: \"Avenir Next W01\",Helvetica,Arial,sans-serif;\n        font-weight: 500;\n        font-size: 14px ;\n        line-height: 24px;\n      }\n\n      .fire-alarm_alarms.fire-alarm_no-nav-margin-bottom {\n        margin-bottom: 0;\n        margin-top: 0;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm {\n        box-sizing: border-box;\n        min-height: 60px;\n        padding: 14px 20px;\n        position: relative;\n      }\n\n      .fire-alarm_critsit {\n        background-color: rgb(242, 84, 91);\n        background-image: repeating-linear-gradient(135deg, rgb(240, 75, 81), rgb(240, 75, 81) 24px, rgb(242, 84, 91) 24px, rgb(242, 84, 91) 48px);\n        border: 1px solid rgb(248, 169, 173);\n      }\n\n      .fire-alarm_outage{\n        background-color: #fdf3e1;\n        border: 1px solid #f5c26b;\n      }\n\n      .fire-alarm_maintenance,\n      .fire-alarm_debug {\n        background-color: #f2fafb;\n        border: 1px solid #7fd1de;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-inner {\n        align-items: baseline;\n        display: flex;\n        flex: 1;\n      }\n\n      .fire-alarm_alarms h2 {\n        color: rgb(255, 255, 255);\n        display: block;\n        font-size: 16px;\n        font-weight: 700;\n        line-height: 20px;\n        margin: 0 20px 6px 0;\n        text-shadow: transparent 0px 0px 1px;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-body {\n        line-height: 1.4;\n        padding-right: 24px;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-body p {\n        font-size: 14px;\n        line-height: 19.6px;\n        margin: 0;\n      }\n\n      .fire-alarm_outage h2,\n      .fire-alarm_maintenance h2,\n      .fire-alarm_outage .fire-alarm_alarm-body p,\n      .fire-alarm_maintenance .fire-alarm_alarm-body p {\n        color: rgb(66, 91, 118);\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-body a,\n      .fire-alarm_alarms .fire-alarm_alarm-status-page-link {\n        color: rgb(255, 255, 255);\n        font-weight: 600;\n        text-decoration: underline;\n        text-shadow: transparent 0px 0px 1px;\n        transition-delay: 0s;\n        transition-duration: 0.15s;\n        transition-property: all;\n        transition-timing-function: ease-out;\n      }\n\n      .fire-alarm_outage .fire-alarm_alarm-body a,\n      .fire-alarm_maintenance .fire-alarm_alarm-body a,\n      .fire-alarm_outage .fire-alarm_alarm-status-page-link,\n      .fire-alarm_maintenance .fire-alarm_alarm-status-page-link {\n        color: rgb(0, 164, 189);\n        font-weight: 500;\n        text-decoration: none;\n      }\n\n      .fire-alarm_outage .fire-alarm_alarm-body a:hover,\n      .fire-alarm_maintenance .fire-alarm_alarm-body a:hover,\n      .fire-alarm_outage .fire-alarm_alarm-status-page-link:hover,\n      .fire-alarm_maintenance .fire-alarm_alarm-status-page-link:hover {\n        text-decoration: underline;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button {\n        background: scroll border-box transparent none 0% 0% repeat;\n        border: 0px none;\n        box-sizing: border-box;\n        color: rgb(255, 255, 255);\n        cursor: pointer;\n        display: block;\n        font-kerning: auto;\n        height: 16px;\n        line-height: 24px;\n        margin: 0;\n        outline-offset: 0px;\n        overflow: visible;\n        padding: 0px;\n        position: absolute;\n        right: 20px;\n        text-align: start;\n        text-transform: none;\n        top: 20px;\n        transition-delay: 0s;\n        transition-duration: 0.15s;\n        transition-property: all;\n        transition-timing-function: ease-out;\n        width: 16px;\n      }\n\n      .fire-alarm_outage .fire-alarm_alarm-close-button {\n        color: rgb(245, 194, 107);\n      }\n\n      .fire-alarm_maintenance .fire-alarm_alarm-close-button {\n        color: #7c98b6;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button:after {\n        display: block;\n        background: rgba(255,255,255,0);\n        border-radius: 100%;\n        padding: 1.25rem;\n        content: ' ';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translateZ(0) translate(-50%, -50%);\n        transition: all 150ms ease-out;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button:hover:after {\n        background: rgba(255,255,255,0.1);\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-close-button path {\n        fill: currentColor;\n        stroke: currentColor;\n        stroke-width: 2;\n      }\n\n      .fire-alarm_alarms .fire-alarm_alarm-button-text {\n        position: absolute !important;\n        width: 1px !important;\n        height: 1px !important;\n        margin: -1px !important;\n        padding: 0 !important;\n        overflow: hidden !important;\n        clip: rect(0, 0, 0, 0) !important;\n        border: 0 !important;\n      }\n    ",t=document.createElement("style");t.innerHTML=e;return t}};t.a=a},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(39),r=window.hubspot=window.hubspot||{};r.fireAlarm=r.fireAlarm||new a.a(r).start()},,,,,,,,,function(e,t,n){"use strict";var a,r=n(2),i=n(3),s=n(4),o=n(8),l=n(7),u=n(5),c=n(13),m=n(15),d=n(12),f="FIREALARM_DEBUG";try{var h=!(!window||!window.localStorage)&&window.localStorage;a=new d.a(h)}catch(e){a=new d.a(!1)}function p(e){a.getItem(f)&&console.log.apply(console,arguments)}var v=p,g=n(14),b=n(10),y=n(16);function E(e,t){var n;"function"==typeof window.Event?n=Object.assign(new Event(e),t):(n=Object.assign(document.createEvent("Event"),t)).initEvent(e,!0,!0);window.dispatchEvent(n)}var A=n(6),w=n(17),_="selenium.disable.alarms";function k(e){var t=e&&e.getItem&&"true"===e.getItem(_);t&&console.warn("FireAlarms are currently disabled. Unset '"+_+"' in localStorage to enable.");return t}var x="fire-alarm-custom-container",C="fireAlarm",O="https://git.hubteam.com/HubSpot/FireAlarmUi/blob/master/README.md#including-benderprojectdepandpathvariables",j="hs-nav-v4",R="firealarm.show.debug.alarms",I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.a)(this,e);this.className="FireAlarmApp";this.hubspot=t;this.events=new y.a;this.events.extractPreloadEvents(t[C]||{});this.alarms=[];try{var a=!(!window||!window.localStorage)&&window.localStorage;this.storage=new d.a(a)}catch(e){this.storage=new d.a(!1)}this.events.runEvents(o.a.ON_LOAD);this.config=Object(A.a)(n,{containers:{}});t[C]=this}Object(i.a)(e,[{key:"selectOrMakeCritsitContainer",value:function(e,t){if(e.containers.critsit){var n=e.containers.critsit;n.additionalClasses=n.additionalClasses||[];n.additionalClasses.push("firealarm-critsits");return this.makeContainer(n)}return e.containers.default?t:this.makeNavContainer(!0)}},{key:"addCss",value:function(){var e=document.getElementsByTagName("head")[0];if(e){var t=w.a.getCss();e.appendChild(t)}}},{key:"getAlarmApi",value:function(){return new s.a(this.getDom(),this.storage,this.events)}},{key:"getDom",value:function(){this.dom||(this.dom=new g.a(document));return this.dom}},{key:"getNav",value:function(){if(!this.navElement){var e=this.getDom().getElementById(j);if(!e){e=this.getDom().getBody().firstChild;for(;null!=e&&3==e.nodeType;)e=e.nextSibling}if(!e)throw"No Nav element could be found to add FireAlarms";this.navElement=e}return this.navElement}},{key:"loadAndRenderAppAlarms",value:function(e){var t=this,n=this.addCss,a=this.hubspot;this.getAlarmApi().getAlarms(e,function(e,r){if(r)v("ApiError",r.getMessage(),r);else{v("Loaded alarms from FireAlarmApi",e);t.events.runEvents(o.a.ON_RECEIVE_ALARM,new m.a(e));!Object(b.isQa)()||a.bender&&a.bender.currentProject||e.push(t.getBenderWarningAlarm());if(e.length>0){0==t.alarms&&n();t.alarms=e;t.renderAlarms()}}})}},{key:"renderAlarms",value:function(){var e=this,t=this.prioritiseAlarms(this.filterAlarms(this.alarms));this.containers.default.removeAllAlarms();this.containers.critsit.removeAllAlarms();t.forEach(function(t){t.severity===l.a.CRITSIT?e.containers.critsit.addAlarm(t):e.containers.default.addAlarm(t)});this.renderContainers();t.forEach(function(t){e.events.runEvents(o.a.ON_RENDER_ALARM,t)});this.events.runEvents(o.a.ON_RENDER_ALL,new m.a(t))}},{key:"getAppName",value:function(){return this.hubspot&&this.hubspot.bender&&this.hubspot.bender.currentProject?this.hubspot.bender.currentProject:null}},{key:"makeContainer",value:function(e){var t=(e.additionalClasses||[]).concat([x]),n=Object(A.b)({additionalClasses:t},e);return new c.a(n)}},{key:"makeNavContainer",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getDom().getBody(),a=this.getNav();e=t?{parent:n,before:a,additionalClasses:["firealarm-critsits"]}:{parent:n,after:a};return new c.a(e)}},{key:"getBenderWarningAlarm",value:function(){return new u.a({title:"FireAlarm needs some setup!",message:"Please include 'benderProjectDepAndPathVariables' in this app to report it to FireAlarm. See the <a href=\""+O+'">FireAlarm docs</a> for more information.',createdAt:Date.now(),severity:l.a.MAINTENANCE.key},this.getDom(),this.storage)}},{key:"filterAlarms",value:function(e){return"true"===this.storage.getItem(R)?e:e.filter(function(e){var t=new RegExp(e.urlRegexPattern);return!(!e.debug&&e.urlRegexPattern)||t.test(window.location.href)})}},{key:"prioritiseAlarms",value:function(e){return e.sort(function(e,t){return e.severity===t.severity?0:e.severity.priority<t.severity.priority?1:-1})}},{key:"addAlarm",value:function(e){var t=new u.a(e,this.getDom(),this.storage,this.events,e.date);0==this.alarms.length&&this.addCss();this.alarms.push(t);t.severity===l.a.CRITSIT?this.containers.critsit.addAlarm(t):this.containers.default.addAlarm(t);this.renderContainers();this.events.runEvents(o.a.ON_RENDER_ALARM,t)}},{key:"renderContainers",value:function(){if(!k(this.storage)){this.containers.default.alarmElements.length>0&&this.containers.default.render();this.containers.default!==this.containers.critsit&&this.containers.critsit.alarmElements.length>0&&this.containers.critsit.render()}}},{key:"addLocationChangeEvent",value:function(){var e,t=this;history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);E("fireAlarmLocationChange");return t});history.replaceState=function(e){return function(){var t=e.apply(this,arguments);E("fireAlarmLocationChange");return t}}(history.replaceState);window.addEventListener("popstate",function(){E("fireAlarmLocationChange")});window.addEventListener("fireAlarmLocationChange",function(){v("Refiltering fire alarms for this page");t.renderAlarms()})}},{key:"start",value:function(){v("FireAlarm started");var e=this.config.appName||this.getAppName(),t=this.config.containers.default||!1,n=t?this.makeContainer(t):this.makeNavContainer(),a=this.selectOrMakeCritsitContainer(this.config,n);this.containers={default:n,critsit:a};this.loadAndRenderAppAlarms(e);this.addLocationChangeEvent();this.events.runEvents(o.a.CREATE_ALARM,this)}}]);return e}();I.HUBSPOT_FIREALARM_KEY=C;t.a=I}]);
//# sourceMappingURL=loader.js.map