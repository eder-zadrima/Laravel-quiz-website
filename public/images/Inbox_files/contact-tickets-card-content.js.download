(window.webpackJsonp=window.webpackJsonp||[]).push([["contact-tickets-card-content"],{BGyb:function(e,t,n){"use strict";var a=n("9f1P"),c=n.n(a),r=n("QgEn"),i=n("VfuR"),s=n.n(i),o=n("eP/i"),l=n("46u0"),u=n.n(l),b=n("QhRM"),j=n("3Yd4"),d=n("sld6"),p=n("WAUT"),O=n("fwDr"),m=n("kZyb"),f=n("OnVB"),h=n("mDbF"),v=n.n(h),g=n("jqvl"),T=n.n(g),k=n("JgEO"),I=n("teXu"),x=function(e){var t=e.item,n=Object(I.c)(t),a=Object(I.b)(t),c=a?new Date(+a):null,i=n?new Date(+n):null,s=c?v.a.moment.userTz(c).format("L"):v.a.moment.userTz(i).fromNow(!0),o=c?"closeDate":"timeOpen";return Object(r.jsx)(T.a,{"data-test-vr-hidden":!0,message:Object(k.a)({prefix:"conversations-inbox-ui.crm-integration.ContactTicketTile.timeOpenMessage",translationOptions:["closeDate","timeOpen"]},o),options:{lengthOfTime:s,date:s}})},y=n("tDqs"),C=n("mKxs"),w={HIGH:"danger",MEDIUM:"warning",LOW:"active"},N=function(e){var t=e.subject,n=e.inline,a=void 0!==n&&n,c=e.className,i=void 0===c?"":c,s=Object(I.n)(t);return w[s]?Object(r.jsx)(y.a,{use:w[s],inline:a,className:i,children:Object(r.jsx)(u.a,{style:{color:o.SLINKY},message:Object(k.a)({prefix:"conversations-inbox-ui.crm-integration.ContactTicketTile.priority",translationOptions:Object.values(w)},w[s])})}):null};N.propTypes={className:s.a.string,inline:s.a.bool,subject:s.a.oneOfType([Object(C.a)("TicketRecord"),s.a.shape({objectId:s.a.number,propertyValueRequirements:s.a.object})]).isRequired};var R=N,D=n("P4dz"),_=function(e){var t=e.ticket,n=t.stages,a=t.currentStage,c=n.find(function(e){return e.value===a}),i=c&&c.label||"";return Object(r.jsx)(O.a,{children:Object(r.jsxs)(m.a,{style:{color:o.SLINKY},children:[Object(r.jsx)(u.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketTile.stageLabel"}),Object(r.jsx)("span",{className:"m-left-1",children:i})]})})};_.propTypes={ticket:s.a.object.isRequired};var E=_,V=n("bGAR"),S=function(e){var t=e.ticket,n=t.owner,a=t.subject,c=t.recordHref,i=t.onExternalClick;return Object(r.jsx)(p.a,{className:"m-bottom-4 p-all-2",children:Object(r.jsxs)(B,{children:[Object(r.jsx)(d.a,{children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(j.a,{className:"m-right-1",name:"ticket",size:16}),Object(r.jsx)(m.a,{className:"nowrap",use:"help",children:Object(r.jsx)(x,{item:a,shrink:0})})]})}),Object(r.jsx)(b.a,{className:"flex-row width-100",href:c,onClick:i,external:!0,children:Object(r.jsx)(V.a,{children:Object(V.b)(Object(D.g)(a))})}),Object(r.jsx)(O.a,{children:Object(r.jsxs)(m.a,{style:{color:o.SLINKY},children:[Object(r.jsx)(u.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketTile.ownerLabel"}),Object(r.jsx)("span",{className:"m-left-1 nowrap",children:n?Object(f.format)(n):Object(r.jsx)(u.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketTile.noOwnerValue"})})]})}),Object(r.jsx)(E,{ticket:t}),Object(r.jsx)(R,{subject:a,inline:!0,className:"m-x-0"})]})})};S.displayName="ContactTicketTile";S.propTypes={ticket:s.a.object.isRequired};t.a=S;var B=c()("div").withConfig({displayName:"ContactTicketTile___StyledDiv",componentId:"rh2wc5-0"})(["color:",";"],o.EERIE)},"EZV/":function(e,t,n){"use strict";n.r(t);n.d(t,"ContactTicketsCardContentGqlConfig",function(){return S});n.d(t,"Content",function(){return B});n.d(t,"ContactTicketsCardContentV2",function(){return q});var a=n("vTCD"),c=n("k8Et"),r=n("mNyx"),i=n("txVw"),s=n("pGTB"),o=n("QgEn"),l=n("Ktcs"),u=n("VfuR"),b=n.n(u),j=n("MQNR"),d=n("QhRM"),p=n("omic"),O=n.n(p),m=n("E7+s"),f=n("P4dz"),h=n("oWUm"),v=n("mKxs"),g=n("jqvl"),T=n.n(g),k=n("l52g"),I=n("nDpY"),x=n.n(I),y=n("2IJn"),C=n("inIR"),w=n("BGyb"),N=n("bRcm"),R=n("9/mv"),D=n("teXu"),_=n("4TVJ"),E=n("ZFBm"),V=n("wODV"),S={getGraphQLQueryVariables:function(e){var t=e.conversationId,n=e.objectType,a=e.subjectId;return{conversationId:t,conversationObjectType:j.CONVERSATION,objectType:n,subjectId:parseInt(a,10)}},parse:R.g,query:R.c},B=function(e){Object(s.a)(t,e);function t(){var e,n;Object(a.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];(n=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleRecordClick=function(){Object(y.c)(n.props.tracker,{subType:C.a,type:j.TICKET})};n.handleViewAllLink=function(){Object(_.d)(Object(E.d)({objectType:j.TICKET}))};return n}Object(c.a)(t,[{key:"getItemsData",value:function(e){var t=this.props,n=t.associationsById,a=t.ownersById,c=t.pipelinesById;return(e||[]).map(function(e){var t=Object(f.d)(e,"hubspot_owner_id"),r=Object(f.d)(e,"hs_pipeline_stage"),i=Object(f.d)(e,"hs_pipeline"),s=O()([i,"stageOptions"],c),o=Object(f.d)(e,"closed_date"),l=Object(f.d)(e,"createdate");return{associations:n[Object(f.a)(e)],closedDate:o,createDate:l,currentStage:r,objectType:j.TICKET,ownerId:t,owner:a[t],stages:s,subject:e,recordHref:Object(N.a)({portalId:x.a.get(),ticketId:Object(f.a)(e)}),key:Object(f.a)(e)}})}},{key:"render",value:function(){var e=this;if(!Object(m.e)(this.props.subject))return Object(o.jsx)(k.a,{grow:!0});var t=this.props,n=t.countObject,a=void 0===n?{}:n,c=t.countTicketIds,r=void 0===c?[]:c,i=t.items,s=void 0===i?[]:i,l=t.subject,u=t.threadTicket,b=a.count,j=void 0===b?0:b,p=r.includes(Object(D.t)(u))?j-1:j,O=Object(D.t)(u),h=this.getItemsData(s.filter(function(e){return Object(D.t)(e)!==O}).slice(0,3)).map(function(t){return Object.assign({},t,{onExternalClick:e.handleRecordClick})}),v=Object(N.b)({portalId:x.a.get(),subjectId:Object(f.a)(l)});return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:h.map(function(e){return Object(o.jsx)(w.a,{ticket:e},e.key)})}),h.length?Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(d.a,{href:v,onClick:this.handleViewAllLink,children:Object(o.jsx)(T.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketsCard.viewAllLink",options:{count:p}})})}):Object(o.jsx)(T.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketsCard.zeroState"})]})}}]);return t}(l.PureComponent);B.propTypes={associationsById:b.a.object,countObject:b.a.object,items:b.a.arrayOf(b.a.shape({objectId:b.a.number,propertyValueRequirements:b.a.object})),ownersById:b.a.objectOf(Object(v.a)("OwnerRecord")),pipelinesById:b.a.object,subject:h.a,threadTicket:b.a.shape({objectId:b.a.number,propertyValueRequirements:b.a.object}),tracker:b.a.object};B.defaultProps={countObject:{count:0,hasMore:!1}};var q=Object(V.a)(B,{gqlConfig:S,key:"ConversationsContactTicketsCard"});t.default=q},OnVB:function(e,t,n){"use strict";n.r(t);n.d(t,"format",function(){return j});n.d(t,"formatWithEmail",function(){return d});var a=n("mDbF"),c=n.n(a),r=n("37ae"),i=n.n(r),s=n("aitF"),o=n.n(s),l=n("U4kd"),u=function(e){var t=e.firstName,n=e.lastName,a=e.email;return t||n||a?t||n?i()({firstName:t,lastName:n}):a:""},b=function(e){var t=e.firstName,n=e.lastName,a=e.email||i()({firstName:t,lastName:n});return c.a.text("customerDataObjects.OwnerName.deactivated",{name:a})},j=o()(function(e){if(e){if(!e.active)return b(e);if("__hs__ME"===e.ownerId)return c.a.text("customerDataObjects.OwnerIdSelect.me");var t=u(e);t&&Object(l.b)(e)&&(t+=" (Salesforce)");return t}}),d=o()(function(e){if(e){if("__hs__ME"===e.ownerId)return c.a.text("customerDataObjects.OwnerIdSelect.me");var t=e.email,n=e.active,a=j(e);if(!e||!n||Object(l.b)(e))return a;t&&a&&a!==t&&(a+=" ("+t+")");return a}})},VkAK:function(e,t,n){"use strict";n.r(t);n.d(t,"ContactTicketsCardContentGqlConfig",function(){return S});n.d(t,"Content",function(){return B});n.d(t,"ContactTicketsCardContent",function(){return q});var a=n("vTCD"),c=n("k8Et"),r=n("mNyx"),i=n("txVw"),s=n("pGTB"),o=n("QgEn"),l=n("Ktcs"),u=n("VfuR"),b=n.n(u),j=n("MQNR"),d=n("QhRM"),p=n("omic"),O=n.n(p),m=n("E7+s"),f=n("P4dz"),h=n("oWUm"),v=n("mKxs"),g=n("jqvl"),T=n.n(g),k=n("l52g"),I=n("nDpY"),x=n.n(I),y=n("2IJn"),C=n("inIR"),w=n("BGyb"),N=n("bRcm"),R=n("9/mv"),D=n("teXu"),_=n("4TVJ"),E=n("ZFBm"),V=n("wODV"),S={getGraphQLQueryVariables:function(e){var t=e.threadId,n=e.objectType,a=e.subjectId;return{threadId:t,conversationObjectType:j.CONVERSATION,objectType:n,subjectId:parseInt(a,10)}},parse:R.e,query:R.a},B=function(e){Object(s.a)(t,e);function t(){var e,n;Object(a.a)(this,t);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];(n=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleRecordClick=function(){Object(y.c)(n.props.tracker,{subType:C.a,type:j.TICKET})};n.handleViewAllLink=function(){Object(_.d)(Object(E.d)({objectType:j.TICKET}))};return n}Object(c.a)(t,[{key:"getItemsData",value:function(e){var t=this.props,n=t.associationsById,a=t.ownersById,c=t.pipelinesById;return(e||[]).map(function(e){var t=Object(f.d)(e,"hubspot_owner_id"),r=Object(f.d)(e,"hs_pipeline_stage"),i=Object(f.d)(e,"hs_pipeline"),s=O()([i,"stageOptions"],c),o=Object(f.d)(e,"closed_date"),l=Object(f.d)(e,"createdate");return{associations:n[Object(f.a)(e)],closedDate:o,createDate:l,currentStage:r,objectType:j.TICKET,ownerId:t,owner:a[t],stages:s,subject:e,recordHref:Object(N.a)({portalId:x.a.get(),ticketId:Object(f.a)(e)}),key:Object(f.a)(e)}})}},{key:"render",value:function(){var e=this;if(!Object(m.e)(this.props.subject))return Object(o.jsx)(k.a,{grow:!0});var t=this.props,n=t.countObject,a=void 0===n?{}:n,c=t.countTicketIds,r=void 0===c?[]:c,i=t.items,s=void 0===i?[]:i,l=t.subject,u=t.threadTicket,b=a.count,j=void 0===b?0:b,p=r.includes(Object(D.t)(u))?j-1:j,O=Object(D.t)(u),h=this.getItemsData(s.filter(function(e){return Object(D.t)(e)!==O}).slice(0,3)).map(function(t){return Object.assign({},t,{onExternalClick:e.handleRecordClick})}),v=Object(N.b)({portalId:x.a.get(),subjectId:Object(f.a)(l)});return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:h.map(function(e){return Object(o.jsx)(w.a,{ticket:e},e.key)})}),h.length?Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(d.a,{href:v,onClick:this.handleViewAllLink,children:Object(o.jsx)(T.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketsCard.viewAllLink",options:{count:p}})})}):Object(o.jsx)(T.a,{message:"conversations-inbox-ui.crm-integration.ContactTicketsCard.zeroState"})]})}}]);return t}(l.PureComponent);B.propTypes={associationsById:b.a.object,countObject:b.a.object,items:b.a.arrayOf(Object(v.a)("TicketRecord")),ownersById:b.a.objectOf(Object(v.a)("OwnerRecord")),pipelinesById:b.a.object,subject:h.a,threadTicket:Object(v.a)("TicketRecord"),tracker:b.a.object};B.defaultProps={countObject:{count:0,hasMore:!1}};var q=Object(V.a)(B,{gqlConfig:S,key:"ConversationsContactTicketsCard"});t.default=q},bRcm:function(e,t,n){"use strict";n.d(t,"a",function(){return c});n.d(t,"b",function(){return r});var a=n("MQNR"),c=function(e){return"/contacts/"+e.portalId+"/ticket/"+e.ticketId},r=function(e){var t=e.portalId,n=e.subjectId;return"/contacts/"+t+"/tickets/list/view/all/?associations-"+a.CONTACT.toLowerCase()+"="+n}},tDqs:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n("fFSu"),c=n("QgEn"),r=n("VfuR"),i=n.n(r),s=n("t6nY"),o=n.n(s),l=n("9f1P"),u=n.n(l),b=n("eP/i"),j=n("QDGf"),d=n("o3aL"),p=n("FCA6"),O=n("KmIv"),m=n("GTTy"),f=u()(d.a).withConfig({displayName:"UIStatusTag__UnenclosedTag",componentId:"lfzwp4-0"})([""," background-color:transparent;border-color:transparent;color:",";line-height:normal;padding-left:0;vertical-align:middle;"],O.a.default,b.EERIE),h=u.a.span.withConfig({displayName:"UIStatusTag__Text",componentId:"lfzwp4-1"})(["line-height:",";"],Object(O.l)(parseInt(j.Fb,10)-2)),v=u.a.span.withConfig({displayName:"UIStatusTag__StatusFlexWrapper",componentId:"lfzwp4-2"})(["margin-top:-4px;margin-bottom:-4px;"]);function g(e){var t=e.children,n=e.className,r=e.color,i=e.hollow,s=e.StatusDot,l=e.use,u=e.multiline,b=Object(a.a)(e,["children","className","color","hollow","StatusDot","use","multiline"]);return Object(c.jsx)(f,Object.assign({use:l,multiline:void 0===t||u},b,{className:o()("private-tag--unenclosed",n,i&&"private-tag--hollow"),_flexWrapperProps:{as:v},children:Object(c.jsxs)(h,{className:"private-tag--unenclosed__text",children:[Object(c.jsx)(s,{color:r,hollow:i,use:l}),t]})}))}g.propTypes=Object.assign({},d.a.propTypes,{color:i.a.string,hollow:i.a.bool.isRequired,StatusDot:Object(p.a)(m.a).isRequired});g.defaultProps=Object.assign({},d.a.defaultProps,{hollow:!1,StatusDot:m.a,use:"info"});g.displayName="UIStatusTag"}}]);
//# sourceMappingURL=contact-tickets-card-content.js.map